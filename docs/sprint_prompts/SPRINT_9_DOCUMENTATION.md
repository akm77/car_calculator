# –ü–†–û–ú–ü–¢: –°–ü–†–ò–ù–¢ 9 ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üé≠ –†–û–õ–¨ –ú–û–î–ï–õ–ò
–¢—ã ‚Äî **Technical Writer** —Å —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–æ–π –≤ API documentation, migration guides –∏ changelog management.

---

## üìò –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø
–ò—Å–ø–æ–ª—å–∑—É–π **Repository Planning Graph (RPG)** ‚Äî –ø—Ä–æ—á—Ç–∏ `docs/rpg_intro.txt`.

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –¥–ª—è —ç—Ç–æ–≥–æ —Å–ø—Ä–∏–Ω—Ç–∞:**
1. **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã** ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å –∫–æ–¥–æ–º
2. **–ú–∏–Ω–∏–º–∞–ª–∏–∑–º** ‚Äî –Ω–µ –¥—É–±–ª–∏—Ä—É–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –¥–∞–≤–∞–π —Å—Å—ã–ª–∫–∏
3. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** ‚Äî –ø—Ä–æ–≤–µ—Ä—è–π –∫–∞–∂–¥—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ—Å–ª–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è

---

## üìä –ì–†–ê–§ –ü–†–û–ï–ö–¢–ê
**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏** –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–ø—Ä–∏–Ω—Ç–∞: `docs/rpg.yaml`

**–î–æ–±–∞–≤—å –≤ recent_changes:**
```yaml
- date: "2025-12-08"
  description: "SPRINT 9 –∑–∞–≤–µ—Ä—à—ë–Ω: –û–±–Ω–æ–≤–ª–µ–Ω—ã SPECIFICATION.md (–º–∞—Ä–∫–µ—Ä '–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ v2.0'), —Å–æ–∑–¥–∞–Ω MIGRATION_GUIDE.md (API changes, config changes, breaking changes), –æ–±–Ω–æ–≤–ª—ë–Ω CHANGELOG.md (v2.0.0 release notes), rpg.yaml –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–∫—Ç—É–∞–ª–µ–Ω"
```

---

## üéØ –¶–ï–õ–¨ –°–ü–†–ò–ù–¢–ê
–ê–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤—Å—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã —É—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞:
1. –û–±–Ω–æ–≤–∏—Ç—å SPECIFICATION.md (–æ—Ç–º–µ—Ç–∏—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é)
2. –°–æ–∑–¥–∞—Ç—å MIGRATION_GUIDE.md (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π API)
3. –û–±–Ω–æ–≤–∏—Ç—å CHANGELOG.md (v2.0.0 release notes)
4. –§–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å rpg.yaml (–ø–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –∫–æ–¥–æ–º)

---

## üìö –ò–°–¢–û–ß–ù–ò–ö–ò –ü–†–ê–í–î–´

### –ü–µ—Ä–≤–∏—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (—á–∏—Ç–∞–π –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
1. **–ü–ª–∞–Ω —Ä–∞–±–æ—Ç**: `docs/REFACTORING_PLAN.md` (–≠—Ç–∞–ø 9, –∑–∞–¥–∞—á–∏ 9.1-9.3)
2. **–¢–µ–∫—É—â–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è**: `docs/SPECIFICATION.md`
3. **–ì—Ä–∞—Ñ –ø—Ä–æ–µ–∫—Ç–∞**: `docs/rpg.yaml`
4. **–ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞**: `docs/REFACTORING_PROGRESS.md`

### –í—Ç–æ—Ä–∏—á–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (–¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)
5. **API Result Flow**: `docs/API_RESULT_FLOW.md` (–º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
6. **Backend –º–æ–¥–µ–ª–∏**: `app/calculation/models.py` (–¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API)
7. **–ö–æ–Ω—Ñ–∏–≥ —É—Ç–∏–ª—å—Å–±–æ—Ä–∞**: `config/rates.yml` (—Å—Å—ã–ª–∫–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

### –ü—Ä–æ–±–ª–µ–º–∞ ¬´Lost in the Middle¬ª
‚ö†Ô∏è **–ü–∏—à–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:**
- –°–Ω–∞—á–∞–ª–∞ SPECIFICATION.md (–∫–æ—Ä–æ—Ç–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
- –ó–∞—Ç–µ–º MIGRATION_GUIDE.md (—Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π, —á–∏—Ç–∞–π –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ)
- –ó–∞—Ç–µ–º CHANGELOG.md (–∫–æ–º–ø–∏–ª—è—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- –í –∫–æ–Ω—Ü–µ rpg.yaml (—Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è)

---

## ‚úÖ –ö–†–ò–¢–ï–†–ò–ò –î–û–°–¢–ò–ñ–ï–ù–ò–Ø –¶–ï–õ–ò

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ (Must Have)
- [ ] **SPECIFICATION.md –æ–±–Ω–æ–≤–ª—ë–Ω** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–º–µ—Ç–∫–∞ "‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ v2.0" –¥–ª—è –Ω–æ–≤—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
- [ ] **MIGRATION_GUIDE.md —Å–æ–∑–¥–∞–Ω** ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ —Å v1.x –Ω–∞ v2.0
- [ ] **CHANGELOG.md –æ–±–Ω–æ–≤–ª—ë–Ω** ‚Äî v2.0.0 release notes —Å –ø–æ–ª–Ω—ã–º —Å–ø–∏—Å–∫–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] **rpg.yaml –∞–∫—Ç—É–∞–ª–µ–Ω** ‚Äî recent_changes —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Å–ø—Ä–∏–Ω—Ç—ã 0-9

### –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–µ (Should Have)
- [ ] **API –ø—Ä–∏–º–µ—Ä—ã** ‚Äî curl –∫–æ–º–∞–Ω–¥—ã —Å –Ω–æ–≤—ã–º –ø–æ–ª–µ–º engine_power_hp
- [ ] **Breaking changes** ‚Äî —á—ë—Ç–∫–æ —É–∫–∞–∑–∞–Ω—ã –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å v1.x
- [ ] **Rollback –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** ‚Äî –∫–∞–∫ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- [ ] **–°—Å—ã–ª–∫–∏** ‚Äî –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –ø–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (Nice to Have)
- [ ] **–î–∏–∞–≥—Ä–∞–º–º—ã** ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ —É—Ç–∏–ª—å—Å–±–æ—Ä–∞
- [ ] **FAQ** ‚Äî –æ—Ç–≤–µ—Ç—ã –Ω–∞ —Ç–∏–ø–∏—á–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] **–í–∏–¥–µ–æ-–≥–∞–π–¥** ‚Äî —Å–∫—Ä–∏–Ω–∫–∞—Å—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

---

## üîç –ó–ê–î–ê–ß–ò (–≤ –ø–æ—Ä—è–¥–∫–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è)

### –ó–∞–¥–∞—á–∞ 9.1: –û–±–Ω–æ–≤–∏—Ç—å SPECIFICATION.md

**–§–∞–π–ª:** `docs/SPECIFICATION.md`

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª –∏ –Ω–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª "–£—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–±–æ—Ä"
2. –î–æ–±–∞–≤—å –ø–æ–º–µ—Ç–∫—É –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
   ```markdown
   ## 3. –£—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–±–æ—Ä
   
   **‚úÖ –°—Ç–∞—Ç—É—Å: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ v2.0 (2025-12-08)**
   
   –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞ —Å –¥–≤—É–º–µ—Ä–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π (–æ–±—ä—ë–º + –º–æ—â–Ω–æ—Å—Ç—å).
   
   ### –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - –û–±—ä—ë–º –¥–≤–∏–≥–∞—Ç–µ–ª—è (—Å–º¬≥)
   - **–ú–æ—â–Ω–æ—Å—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—è (–ª.—Å.)** ‚Üê –ù–û–í–û–ï –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û–ï –ü–û–õ–ï
   - –í–æ–∑—Ä–∞—Å—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—è
   
   ### –†–∞—Å—á—ë—Ç
   1. –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ª.—Å. ‚Üí –∫–í—Ç: `kw = hp √ó 0.7355`
   2. –ü–æ–∏—Å–∫ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –æ–±—ä—ë–º–∞ (5 bands)
   3. –ü–æ–∏—Å–∫ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –º–æ—â–Ω–æ—Å—Ç–∏ –≤ –≤—ã–±—Ä–∞–Ω–Ω–æ–º band
   4. –í—ã–±–æ—Ä –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ (lt3 –∏–ª–∏ gt3)
   5. –†–∞—Å—á—ë—Ç: `fee = 20,000 ‚ÇΩ √ó coefficient`
   
   **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** `config/rates.yml` (utilization_m1_personal)
   
   **–¢–∞–±–ª–∏—Ü–∞:** –°–º. —Ä–∞–∑–¥–µ–ª "–¢–∞–±–ª–∏—Ü–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤" –Ω–∏–∂–µ
   ```

3. –ù–∞–π–¥–∏ —Ä–∞–∑–¥–µ–ª "–ö–æ–º–∏—Å—Å–∏—è –∫–æ–º–ø–∞–Ω–∏–∏" –∏ –æ–±–Ω–æ–≤–∏:
   ```markdown
   ## 6. –ö–æ–º–∏—Å—Å–∏—è –∫–æ–º–ø–∞–Ω–∏–∏
   
   **‚úÖ –°—Ç–∞—Ç—É—Å: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ v2.0 (2025-12-08)**
   
   - **–ï–¥–∏–Ω–∞—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞:** 1000 USD –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω
   - **–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:** –û–ê–≠ ‚Äî –∫–æ–º–∏—Å—Å–∏—è 0 USD (–≤–∫–ª—é—á–µ–Ω–∞ –≤ —Ä–∞—Å—Ö–æ–¥—ã —Å—Ç—Ä–∞–Ω—ã)
   
   **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** `config/commissions.yml`
   ```

4. –û–±–Ω–æ–≤–∏ —Ä–∞–∑–¥–µ–ª "–≠–†–ê-–ì–õ–û–ù–ê–°–°":
   ```markdown
   ## 8. –≠–†–ê-–ì–õ–û–ù–ê–°–°
   
   **‚úÖ –°—Ç–∞—Ç—É—Å: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ v2.0 (2025-12-08)**
   
   - **–ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞:** 45,000 —Ä—É–±. (configurable)
   
   **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** `config/rates.yml` (era_glonass_rub)
   ```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** SPECIFICATION.md —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–º–µ—Ç–∫–∏ "–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ" –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

---

### –ó–∞–¥–∞—á–∞ 9.2: –°–æ–∑–¥–∞—Ç—å MIGRATION_GUIDE.md

**–§–∞–π–ª:** `docs/MIGRATION_GUIDE.md` (—Å–æ–∑–¥–∞–π –Ω–æ–≤—ã–π)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```markdown
# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ v2.0

**–î–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞:** 2025-12-08  
**–í–µ—Ä—Å–∏—è:** 2.0.0  
**Breaking Changes:** –î–ê (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ engine_power_hp)

---

## üéØ –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ v2.0

### 1. –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞
- **2D-—Ç–∞–±–ª–∏—Ü–∞** (–æ–±—ä—ë–º –¥–≤–∏–≥–∞—Ç–µ–ª—è + –º–æ—â–Ω–æ—Å—Ç—å –≤ –∫–í—Ç)
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ:** `engine_power_hp` (1-1500 –ª.—Å.)
- **–ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞:** 20,000 —Ä—É–±. √ó –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∏–∑ —Ç–∞–±–ª–∏—Ü—ã

### 2. –ï–¥–∏–Ω–∞—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è
- **1000 USD** –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω (–±—ã–ª–æ: –≥—Ä–∞–¥–∞—Ü–∏—è –ø–æ –ø–æ—Ä–æ–≥–∞–º)
- **–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:** –û–ê–≠ = 0 USD

### 3. –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã 2025
- –≠–†–ê-–ì–õ–û–ù–ê–°–°: 45,000 —Ä—É–±.
- –ü–æ—à–ª–∏–Ω—ã lt3: –Ω–æ–≤—ã–µ –±—Ä—ç–∫–µ—Ç—ã (325k-6500k RUB)

---

## üö® Breaking Changes

### API Endpoints

#### POST /api/calculate

**–ë–´–õ–û (v1.x):**
```json
{
  "country": "japan",
  "year": 2022,
  "engine_cc": 1500,
  "purchase_price": 2500000,
  "currency": "JPY"
}
```

**–°–¢–ê–õ–û (v2.0):**
```json
{
  "country": "japan",
  "year": 2022,
  "engine_cc": 1500,
  "engine_power_hp": 110,  ‚Üê –ù–û–í–û–ï –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û–ï –ü–û–õ–ï
  "purchase_price": 2500000,
  "currency": "JPY"
}
```

**–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–æ–ª—è:**
```json
{
  "detail": [
    {
      "loc": ["body", "engine_power_hp"],
      "msg": "field required",
      "type": "value_error.missing"
    }
  ]
}
```

---

#### Response Structure Changes

**–ù–æ–≤—ã–µ –ø–æ–ª—è –≤ `meta`:**
```json
{
  "meta": {
    // ...existing fields...
    "engine_power_hp": 110,          ‚Üê NEW
    "engine_power_kw": 80.91,        ‚Üê NEW
    "utilization_coefficient": 0.26  ‚Üê NEW
  }
}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `breakdown`:**
- `utilization_fee_rub` ‚Äî —Ç–µ–ø–µ—Ä—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ (–∑–Ω–∞—á–µ–Ω–∏—è –∏–∑–º–µ–Ω–∏–ª–∏—Å—å)
- `company_commission_rub` ‚Äî —Ç–µ–ø–µ—Ä—å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞ 1000 USD
- `era_glonass_rub` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–æ –¥–æ 45,000 —Ä—É–±.

---

### Configuration Files

#### config/rates.yml

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Å–µ–∫—Ü–∏—è:**
```yaml
utilization_m1_personal:
  base_rate_rub: 20000
  volume_bands:
    - volume_range: [0, 1000]
      power_brackets:
        - {power_kw_max: 51.48, coefficient_lt3: 0.17, coefficient_gt3: 0.26}
        # ...80+ –∑–∞–ø–∏—Å–µ–π
```

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:**
```yaml
era_glonass_rub: 45000  # –±—ã–ª–æ: 0 –∏–ª–∏ —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
```

#### config/commissions.yml

**–ë–´–õ–û:**
```yaml
thresholds:
  - max_price: 1500000
    amount: 40000
  - max_price: 3000000
    amount: 60000
  # ...
```

**–°–¢–ê–õ–û:**
```yaml
default_commission_usd: 1000

by_country:
  uae:
    commission_usd: 0
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

### –î–ª—è Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞ API:**
  - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ `engine_power_hp` –≤–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/calculate`
  - –û–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è TypeScript/Pydantic)
  
- [ ] **–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ response:**
  - `meta.engine_power_hp`, `meta.engine_power_kw`, `meta.utilization_coefficient`
  
- [ ] **–ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ç–µ—Å—Ç–∞—Ö:**
  - –£—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–±–æ—Ä –∏–∑–º–µ–Ω–∏–ª—Å—è (–Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞)
  - –ö–æ–º–∏—Å—Å–∏—è –∏–∑–º–µ–Ω–∏–ª–∞—Å—å (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞)
  
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
  - –î–æ–±–∞–≤–∏—Ç—å `config/rates.yml` (–Ω–æ–≤–∞—è —Å–µ–∫—Ü–∏—è utilization)
  - –û–±–Ω–æ–≤–∏—Ç—å `config/commissions.yml` (–Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

### –î–ª—è Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

- [ ] **–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ —Ñ–æ—Ä–º—É:**
  ```html
  <input type="number" name="enginePowerHp" min="1" max="1500" required>
  ```
  
- [ ] **–û–±–Ω–æ–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é:**
  ```javascript
  if (!enginePowerHp || enginePowerHp < 1 || enginePowerHp > 1500) {
    showError('–í–≤–µ–¥–∏—Ç–µ –º–æ—â–Ω–æ—Å—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—è (1-1500 –ª.—Å.)');
  }
  ```
  
- [ ] **–û—Ç–æ–±—Ä–∞–∑–∏—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ:**
  ```javascript
  –ú–æ—â–Ω–æ—Å—Ç—å: ${result.meta.engine_power_hp} –ª.—Å. (${result.meta.engine_power_kw} –∫–í—Ç)
  –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —É—Ç–∏–ª—å—Å–±–æ—Ä–∞: ${result.meta.utilization_coefficient}
  ```

### –î–ª—è DevOps

- [ ] **–ë—ç–∫–∞–ø —Ç–µ–∫—É—â–∏—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤:**
  ```bash
  cp config/rates.yml config/rates_v1_backup.yml
  cp config/commissions.yml config/commissions_v1_backup.yml
  ```
  
- [ ] **–î–µ–ø–ª–æ–π –Ω–æ–≤—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤:**
  ```bash
  # –ü—Ä–æ–≤–µ—Ä–∫–∞ YAML –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏
  yamllint config/*.yml
  
  # –î–µ–ø–ª–æ–π
  rsync -avz config/ production:/app/config/
  ```
  
- [ ] **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:**
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –Ω–∞ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ response time (–¥–æ–ª–∂–Ω–æ –æ—Å—Ç–∞—Ç—å—Å—è < 200ms)
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ 422 –æ—à–∏–±–æ–∫ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 0 –ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤)

---

## üîÑ Rollback Plan

### –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

**1. –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞—Ç –∫–æ–Ω—Ñ–∏–≥–æ–≤ (5 –º–∏–Ω—É—Ç):**
```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏
cp config/rates_v1_backup.yml config/rates.yml
cp config/commissions_v1_backup.yml config/commissions.yml

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
systemctl restart car_calculator
```

**2. –û—Ç–∫–∞—Ç –∫–æ–¥–∞ (10 –º–∏–Ω—É—Ç):**
```bash
# –û—Ç–∫–∞—Ç–∏—Ç—å –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ä–µ–ª–∏–∑
git revert --no-commit HEAD~20..HEAD
git commit -m "revert: rollback to v1.x due to production issues"
git push origin main

# –î–µ–ø–ª–æ–π
./scripts/deploy.sh
```

**3. –û—Ç–∫–∞—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –º–∏–≥—Ä–∞—Ü–∏—è):**
```sql
-- –í–µ—Ä–Ω—É—Ç—å engine_power_hp –≤ nullable (–µ—Å–ª–∏ —Ö—Ä–∞–Ω–∏–ª–∏ –≤ –ë–î)
ALTER TABLE calculations ALTER COLUMN engine_power_hp DROP NOT NULL;
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –º–∏–≥—Ä–∞—Ü–∏–∏

### Python (requests)

**–ë–´–õ–û:**
```python
import requests

response = requests.post("https://api.example.com/api/calculate", json={
    "country": "japan",
    "year": 2022,
    "engine_cc": 1500,
    "purchase_price": 2500000,
    "currency": "JPY"
})
```

**–°–¢–ê–õ–û:**
```python
import requests

response = requests.post("https://api.example.com/api/calculate", json={
    "country": "japan",
    "year": 2022,
    "engine_cc": 1500,
    "engine_power_hp": 110,  # NEW: –¥–æ–±–∞–≤–∏—Ç—å
    "purchase_price": 2500000,
    "currency": "JPY"
})

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π
result = response.json()
print(f"–ú–æ—â–Ω–æ—Å—Ç—å: {result['meta']['engine_power_hp']} –ª.—Å.")
print(f"–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç: {result['meta']['utilization_coefficient']}")
```

### JavaScript (fetch)

**–ë–´–õ–û:**
```javascript
const response = await fetch('/api/calculate', {
  method: 'POST',
  body: JSON.stringify({
    country: 'japan',
    year: 2022,
    engine_cc: 1500,
    purchase_price: 2500000,
    currency: 'JPY'
  })
});
```

**–°–¢–ê–õ–û:**
```javascript
const response = await fetch('/api/calculate', {
  method: 'POST',
  body: JSON.stringify({
    country: 'japan',
    year: 2022,
    engine_cc: 1500,
    engine_power_hp: 110,  // NEW
    purchase_price: 2500000,
    currency: 'JPY'
  })
});

const result = await response.json();
console.log(`–ú–æ—â–Ω–æ—Å—Ç—å: ${result.meta.engine_power_hp} –ª.—Å.`);
console.log(`–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç: ${result.meta.utilization_coefficient}`);
```

---

## ‚ùì FAQ

### Q: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ª–∏ —É–∫–∞–∑—ã–≤–∞—Ç—å engine_power_hp?
**A:** –î–∞, —ç—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ —Å –≤–µ—Ä—Å–∏–∏ 2.0. –ë–µ–∑ –Ω–µ–≥–æ API –≤–µ—Ä–Ω—ë—Ç –æ—à–∏–±–∫—É 422.

### Q: –ì–¥–µ –≤–∑—è—Ç—å –º–æ—â–Ω–æ—Å—Ç—å –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö?
**A:** –¢–∏–ø–∏—á–Ω—ã–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è:
- 1000-1500 cc ‚Üí 70-110 –ª.—Å.
- 1500-2000 cc ‚Üí 110-150 –ª.—Å.
- 2000-3000 cc ‚Üí 150-250 –ª.—Å.

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (specifications –ø–æ VIN).

### Q: –ò–∑–º–µ–Ω–∏–ª—Å—è –ª–∏ —É—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–±–æ—Ä –¥–ª—è –º–æ–µ–≥–æ –∞–≤—Ç–æ?
**A:** –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –¥–∞. –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—á–∏—Ç—ã–≤–∞–µ—Ç –º–æ—â–Ω–æ—Å—Ç—å, –ø–æ—ç—Ç–æ–º—É –¥–∞–∂–µ –ø—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–º –æ–±—ä—ë–º–µ —Å—É–º–º–∞ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è.

### Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä–æ–µ API?
**A:** –ù–µ—Ç, v1.x API —Å–Ω—è—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å 2025-12-08. –í—Å–µ –∫–ª–∏–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ v2.0.

### Q: –ö–∞–∫–æ–π grace period –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏?
**A:** –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è. –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π.

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**–í–æ–ø—Ä–æ—Å—ã –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏:**  
- Email: support@example.com
- Telegram: @support_bot
- GitHub Issues: https://github.com/your-repo/issues

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**  
- API Docs: https://api.example.com/docs
- Changelog: `/docs/CHANGELOG.md`
- Specification: `/docs/SPECIFICATION.md`

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-08  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** MIGRATION_GUIDE.md —Å–æ–∑–¥–∞–Ω –∏ —á–∏—Ç–∞–±–µ–ª–µ–Ω

---

### –ó–∞–¥–∞—á–∞ 9.3: –û–±–Ω–æ–≤–∏—Ç—å CHANGELOG.md

**–§–∞–π–ª:** `CHANGELOG.md` (—Å–æ–∑–¥–∞–π, –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)

**–î–æ–±–∞–≤—å —Å–µ–∫—Ü–∏—é –¥–ª—è v2.0.0:**
```markdown
# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

---

## [2.0.0] - 2025-12-08

### üöÄ Added

**–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞:**
- –î–≤—É–º–µ—Ä–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞—Å—á—ë—Ç–∞ (–æ–±—ä—ë–º –¥–≤–∏–≥–∞—Ç–µ–ª—è + –º–æ—â–Ω–æ—Å—Ç—å –≤ –∫–í—Ç)
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ `engine_power_hp` (1-1500 –ª.—Å.) –≤ API `/api/calculate`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ª.—Å. ‚Üí –∫–í—Ç (–∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç 0.7355)
- 80+ –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ (`config/rates.yml`)

**API –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:**
- –ù–æ–≤—ã–µ –ø–æ–ª—è –≤ response:
  - `meta.engine_power_hp` ‚Äî –∏—Å—Ö–æ–¥–Ω–∞—è –º–æ—â–Ω–æ—Å—Ç—å –≤ –ª.—Å.
  - `meta.engine_power_kw` ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –º–æ—â–Ω–æ—Å—Ç—å –≤ –∫–í—Ç
  - `meta.utilization_coefficient` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∏–∑ —Ç–∞–±–ª–∏—Ü—ã
- –ù–æ–≤—ã–µ constraints –≤ GET `/api/meta`:
  - `engine_power_hp_min: 1`
  - `engine_power_hp_max: 1500`
- –ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è `conversion_factors`:
  - `hp_to_kw: 0.7355`

**WebApp (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥):**
- –ü–æ–ª–µ "–ú–æ—â–Ω–æ—Å—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—è (–ª.—Å.)" –≤ —Ñ–æ—Ä–º–µ —Ä–∞—Å—á—ë—Ç–∞
- Real-time –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–æ—â–Ω–æ—Å—Ç–∏ (FormValidator)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏ –≤ –∫–í—Ç –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ —É—Ç–∏–ª—å—Å–±–æ—Ä–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
- Help text —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏

**Telegram Bot:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `engine_power_hp` –≤ –∫–æ–º–∞–Ω–¥–µ `/calc` (–ø—Ä–∏–º–µ—Ä)
- –ü–∞—Ä—Å–∏–Ω–≥ `engine_power_hp` –∏–∑ WebApp –¥–∞–Ω–Ω—ã—Ö
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏ –∏ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö –±–æ—Ç–∞

**–¢–µ—Å—Ç—ã:**
- `tests/unit/test_utilization_v2.py` ‚Äî 10 unit-—Ç–µ—Å—Ç–æ–≤ –¥–ª—è `_utilization_fee_v2()`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∫–µ–π—Å—ã –≤ `tests/test_data/cases.yml` (–¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `engine_power_hp`)
- –ù–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –≤ `tests/functional/test_api.py` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ engine_power_hp

### üîÑ Changed

**–£—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–±–æ—Ä:**
- **BREAKING:** –†–∞—Å—á—ë—Ç —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç 2D-—Ç–∞–±–ª–∏—Ü—É –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ –æ–±—ä—ë–º—É
- –ó–Ω–∞—á–µ–Ω–∏—è —É—Ç–∏–ª—å—Å–±–æ—Ä–∞ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å (–¥–∞–∂–µ –¥–ª—è —Ç–µ—Ö –∂–µ –∞–≤—Ç–æ, —á—Ç–æ –≤ v1.x)

**–ö–æ–º–∏—Å—Å–∏—è –∫–æ–º–ø–∞–Ω–∏–∏:**
- –£–ø—Ä–æ—â–µ–Ω–∞ –¥–æ –µ–¥–∏–Ω–æ–π —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ç–∞–≤–∫–∏: **1000 USD** –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –û–ê–≠ ‚Äî –∫–æ–º–∏—Å—Å–∏—è 0 USD (–≤–∫–ª—é—á–µ–Ω–∞ –≤ —Ä–∞—Å—Ö–æ–¥—ã —Å—Ç—Ä–∞–Ω—ã)
- –£–¥–∞–ª–µ–Ω–∞ –≥—Ä–∞–¥–∞—Ü–∏—è –ø–æ –ø–æ—Ä–æ–≥–∞–º —Å—Ç–æ–∏–º–æ—Å—Ç–∏

**–¢–∞—Ä–∏—Ñ—ã:**
- –≠–†–ê-–ì–õ–û–ù–ê–°–°: –æ–±–Ω–æ–≤–ª–µ–Ω–æ –¥–æ **45,000 —Ä—É–±.** (–±—ã–ª–æ 0 –∏–ª–∏ —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ)
- –ü–æ—à–ª–∏–Ω—ã lt3: –Ω–æ–≤ÔøΩÔøΩ–µ –±—Ä—ç–∫–µ—Ç—ã (325k, 650k, 1625k, 3250k, 6500k RUB)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- `config/rates.yml` ‚Äî –Ω–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `utilization_m1_personal` —Å 2D-—Ç–∞–±–ª–∏—Ü–µ–π
- `config/commissions.yml` ‚Äî —É–ø—Ä–æ—â–µ–Ω–∞ –¥–æ `default_commission_usd: 1000`

### üóëÔ∏è Removed

- **BREAKING:** –°—Ç–∞—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ —É—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞ (—Ç–æ–ª—å–∫–æ –ø–æ –æ–±—ä—ë–º—É –¥–≤–∏–≥–∞—Ç–µ–ª—è)
- –ì—Ä–∞–¥–∞—Ü–∏—è –∫–æ–º–∏—Å—Å–∏–∏ –ø–æ –ø–æ—Ä–æ–≥–∞–º —Å—Ç–æ–∏–º–æ—Å—Ç–∏

### üêõ Fixed

- –¢–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å—á—ë—Ç–∞ —É—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞ (—É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –º–æ—â–Ω–æ—Å—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—è)
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∫–æ–º–∏—Å—Å–∏–π –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∞–º–∏ (–µ–¥–∏–Ω–∞—è —Å—Ç–∞–≤–∫–∞)

### üìö Documentation

- `docs/MIGRATION_GUIDE.md` ‚Äî —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å v1.x –Ω–∞ v2.0
- `docs/SPECIFICATION.md` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–º–µ—Ç–∫–∏ "–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ v2.0"
- `docs/rpg.yaml` ‚Äî –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –≥—Ä–∞—Ñ –ø—Ä–æ–µ–∫—Ç–∞ (–°–ø—Ä–∏–Ω—Ç—ã 0-9)
- `docs/REFACTORING_PROGRESS.md` ‚Äî –∏—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### ‚ö†Ô∏è Breaking Changes

1. **API:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ `engine_power_hp` –≤ POST `/api/calculate`
   - –ó–∞–ø—Ä–æ—Å—ã –±–µ–∑ —ç—Ç–æ–≥–æ –ø–æ–ª—è –≤–µ—Ä–Ω—É—Ç `422 Unprocessable Entity`
   
2. **–£—Ç–∏–ª–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π —Å–±–æ—Ä:** –ó–Ω–∞—á–µ–Ω–∏—è –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
   - –°—Ç–∞—Ä—ã–µ expected values –≤ —Ç–µ—Å—Ç–∞—Ö/–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è—Ö –Ω—É–∂–¥–∞—é—Ç—Å—è –≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
   
3. **–ö–æ–º–∏—Å—Å–∏—è:** –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á—ë—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∞
   - –ë—ã–ª–æ: –≥—Ä–∞–¥–∞—Ü–∏—è –ø–æ –ø–æ—Ä–æ–≥–∞–º (40k-80k RUB)
   - –°—Ç–∞–ª–æ: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (1000 USD)

### üîÑ Migration Path

–°–º. [MIGRATION_GUIDE.md](./docs/MIGRATION_GUIDE.md) –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π.

**–ö—Ä–∞—Ç–∫–∏–π —á–µ–∫–ª–∏—Å—Ç:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å `engine_power_hp` –≤–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API
- [ ] –û–±–Ω–æ–≤–∏—Ç—å UI (–¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –º–æ—â–Ω–æ—Å—Ç–∏)
- [ ] –ü–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ç–µ—Å—Ç–∞—Ö
- [ ] –î–µ–ø–ª–æ–π –Ω–æ–≤—ã—Ö –∫–æ–Ω—Ñ–∏–≥–æ–≤ (`rates.yml`, `commissions.yml`)

### üìä Statistics

- **Files changed:** 25
- **Lines added:** ~850
- **Lines removed:** ~150
- **Test coverage:** 87% (–±—ã–ª–æ 85%)
- **Tests:** 32 passed, 0 failed

---

## [1.0.1] - 2025-12-04

### Added
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç—Ä–∞–Ω—ã Georgia (–ì—Ä—É–∑–∏—è)
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ —Å—Ç—Ä–∞–Ω –∏–∑ `/api/meta`
- –¢–µ—Å—Ç–æ–≤—ã–µ –∫–µ–π—Å—ã –¥–ª—è Georgia

---

## [1.0.0] - 2025-12-01

### Added
- –ü–µ—Ä–≤—ã–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —Ä–µ–ª–∏–∑ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
- FastAPI backend —Å —Ä–∞—Å—á—ë—Ç–æ–º —Ç–∞–º–æ–∂–µ–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- Telegram Bot —Å WebApp –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 4 —Å—Ç—Ä–∞–Ω: –Ø–ø–æ–Ω–∏—è, –ö–æ—Ä–µ—è, –û–ê–≠, –ö–∏—Ç–∞–π
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ YAML-—Ñ–∞–π–ª—ã –¥–ª—è —Ç–∞—Ä–∏—Ñ–æ–≤

---

**–õ–µ–≥–µ–Ω–¥–∞:**
- üöÄ Added ‚Äî –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- üîÑ Changed ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- üóëÔ∏è Removed ‚Äî —É–¥–∞–ª—ë–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- üêõ Fixed ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤
- üìö Documentation ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- ‚ö†Ô∏è Breaking Changes ‚Äî –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** CHANGELOG.md –∞–∫—Ç—É–∞–ª–µ–Ω, v2.0.0 –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω

---

### –ó–∞–¥–∞—á–∞ 9.4: –§–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å rpg.yaml

**–§–∞–π–ª:** `docs/rpg.yaml`

**–ü—Ä–æ–≤–µ—ÄÔøΩÔøΩ –∏ –æ–±–Ω–æ–≤–∏:**

1. **metadata.last_updated:**
   ```yaml
   last_updated: "2025-12-08"
   version: "2.0.0"
   ```

2. **metadata.recent_changes:** (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ —Å–ø—Ä–∏–Ω—Ç—ã 0-9)
   ```yaml
   recent_changes:
     - date: "2025-12-08"
       description: "SPRINT 9 –∑–∞–≤–µ—Ä—à—ë–Ω: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞..."
     - date: "2025-12-08"
       description: "SPRINT 8 –∑–∞–≤–µ—Ä—à—ë–Ω: –¢–µ—Å—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã..."
     # ...–∏ —Ç.–¥. –¥–ª—è –≤—Å–µ—Ö —Å–ø—Ä–∏–Ω—Ç–æ–≤
   ```

3. **components:** –æ–±–Ω–æ–≤–∏ descriptions –¥–ª—è –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
   ```yaml
   - name: "_utilization_fee_v2"
     parent_file: "engine.py"
     type: "function"
     description: "–†–∞—Å—á—ë—Ç —É—Ç–∏–ª—å—Å–±–æ—Ä–∞ –ø–æ 2D-—Ç–∞–±–ª–∏—Ü–µ (–æ–±—ä—ë–º+–º–æ—â–Ω–æ—Å—Ç—å), –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –ª.—Å.‚Üí–∫–í—Ç, –ø–æ–∏—Å–∫ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ (lt3/gt3), –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç (fee, coefficient)"
     testable: true
     test_priority: "high"
   ```

4. **tests.test_status:**
   ```yaml
   tests:
     test_status:
       overall: "32 passed, 0 failed"
       coverage: "87%"
       last_run: "2025-12-08"
   ```

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** rpg.yaml –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –∫–æ–¥–æ–º

---

### –ó–∞–¥–∞—á–∞ 9.5: –û–±–Ω–æ–≤–∏—Ç—å API_RESULT_FLOW.md (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–§–∞–π–ª:** `docs/API_RESULT_FLOW.md`

**–ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–±–Ω–æ–≤–∏:**
- –î–æ–±–∞–≤—å `engine_power_hp` –≤ –ø—Ä–∏–º–µ—Ä—ã request
- –î–æ–±–∞–≤—å –Ω–æ–≤—ã–µ –ø–æ–ª—è `meta.engine_power_hp`, `meta.engine_power_kw`, `meta.utilization_coefficient` –≤ –ø—Ä–∏–º–µ—Ä—ã response

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** API_RESULT_FLOW.md —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–º API endpoints

---

## üß™ –ü–†–û–í–ï–†–ö–ê –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–ò

### –ß–µ–∫–ª–∏—Å—Ç –∫–∞—á–µ—Å—Ç–≤–∞

**1. –ü–æ–ª–Ω–æ—Ç–∞:**
- [ ] –í—Å–µ breaking changes –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ï—Å—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- [ ] –£–∫–∞–∑–∞–Ω—ã –≤–µ—Ä—Å–∏–∏ (v1.x ‚Üí v2.0)

**2. –¢–æ—á–Ω–æ—Å—Ç—å:**
- [ ] –ü—Ä–∏–º–µ—Ä—ã API –∑–∞–ø—Ä–æ—Å–æ–≤ –∞–∫—Ç—É–∞–ª—å–Ω—ã (–º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å)
- [ ] –°—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∞–π–ª—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã (–Ω–µ 404)
- [ ] –í–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫/–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —É–∫–∞–∑–∞–Ω—ã –≤–µ—Ä–Ω–æ

**3. –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å:**
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–∑–∞–≥–æ–ª–æ–≤–∫–∏, —Å–ø–∏—Å–∫–∏, –∫–æ–¥-–±–ª–æ–∫–∏)
- [ ] –ï—Å—Ç—å –æ–≥–ª–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [ ] –ù–µ—Ç –æ–ø–µ—á–∞—Ç–æ–∫ –∏ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

**4. –ù–∞–≤–∏–≥–∞—Ü–∏—è:**
- [ ] –ü–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –º–µ–∂–¥—É –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –ï—Å—Ç—å "See also" —Å–µ–∫—Ü–∏–∏
- [ ] README.md —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–æ–≤—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

---

## üìù –ò–¢–û–ì–û–í–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–ø—Ä–∏–Ω—Ç–∞ —É –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å:

1. **SPECIFICATION.md** ‚Äî —Å –ø–æ–º–µ—Ç–∫–∞–º–∏ "–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ"
2. **MIGRATION_GUIDE.md** ‚Äî –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –º–∏–≥—Ä–∞—Ü–∏–∏
3. **CHANGELOG.md** ‚Äî v2.0.0 release notes
4. **rpg.yaml** ‚Äî –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –≥—Ä–∞—Ñ –ø—Ä–æ–µ–∫—Ç–∞
5. **API_RESULT_FLOW.md** ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## ‚è±Ô∏è –í–†–ï–ú–Ø –í–´–ü–û–õ–ù–ï–ù–ò–Ø
**–û—Ü–µ–Ω–∫–∞:** 1-2 —á–∞—Å–∞

**Breakdown:**
- –ó–∞–¥–∞—á–∞ 9.1: 15 –º–∏–Ω—É—Ç (SPECIFICATION.md)
- –ó–∞–¥–∞—á–∞ 9.2: 45 –º–∏–Ω—É—Ç (MIGRATION_GUIDE.md ‚Äî —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π)
- –ó–∞–¥–∞—á–∞ 9.3: 20 –º–∏–Ω—É—Ç (CHANGELOG.md)
- –ó–∞–¥–∞—á–∞ 9.4: 15 –º–∏–Ω—É—Ç (rpg.yaml)
- –ó–∞–¥–∞—á–∞ 9.5: 10 –º–∏–Ω—É—Ç (API_RESULT_FLOW.md)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞: 15 –º–∏–Ω—É—Ç

---

## üìû NEXT STEPS
–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–ø—Ä–∏–Ω—Ç–∞:
1. **–û–±–Ω–æ–≤–∏ rpg.yaml** (—É–±–µ–¥–∏—Å—å, —á—Ç–æ Sprint 9 –≤ recent_changes)
2. **–ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π:**
   ```bash
   git add docs/
   git commit -m "docs: complete v2.0 documentation (MIGRATION_GUIDE, CHANGELOG, updated SPEC)"
   ```
3. **–ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ –°–ø—Ä–∏–Ω—Ç—É 10** (–§–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è) ‚Äî —Å–º. `docs/sprint_prompts/SPRINT_10_FINALIZATION.md`

---

## üîó –°–í–Ø–ó–ê–ù–ù–´–ï –§–ê–ô–õ–´
- `docs/REFACTORING_PLAN.md` ‚Äî –ø–æ–ª–Ω—ã–π –ø–ª–∞–Ω (–≠—Ç–∞–ø 9)
- `docs/SPECIFICATION.md` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å
- `docs/MIGRATION_GUIDE.md` ‚Äî —Å–æ–∑–¥–∞—Ç—å
- `CHANGELOG.md` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å/—Å–æ–∑–¥–∞—Ç—å
- `docs/rpg.yaml` ‚Äî —Ñ–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
- `docs/API_RESULT_FLOW.md` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

**–ê–≤—Ç–æ—Ä –ø—Ä–æ–º–ø—Ç–∞:** RPG Architect  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 2025-12-08

