# –ê–Ω–∞–ª–∏–∑ WebApp –ø–æ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ RPG: –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

## üìã –ö–æ–Ω—Ç–µ–∫—Å—Ç –∞–Ω–∞–ª–∏–∑–∞

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω —Ñ–∞–π–ª `app/webapp/index.html` (1548 —Å—Ç—Ä–æ–∫) –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º RPG:
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π)
- **–°—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** (—è–≤–Ω—ã–µ –≤—Ö–æ–¥—ã/–≤—ã—Ö–æ–¥—ã)
- **–¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫** (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏)
- **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** (—Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. **–ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (1548 —Å—Ç—Ä–æ–∫ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ)**
**–ü—Ä–æ–±–ª–µ–º–∞**: –í–µ—Å—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ –æ–¥–Ω–æ–º HTML-—Ñ–∞–π–ª–µ –Ω–∞—Ä—É—à–∞–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ RPG

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è**:
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
- –°–ª–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- –¢—è–∂–µ–ª–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å (–¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω—ã, —Ç–∏–ø—ã —Ä–∞—Å—á—ë—Ç–æ–≤)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**:
```
app/webapp/
‚îú‚îÄ‚îÄ index.html (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –æ–±–æ–ª–æ—á–∫–∞)
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ modules/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telegram.js      # TelegramWebApp wrapper
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.js           # API client (fetch /api/*)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ validator.js     # Form validation logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ calculator.js    # UI logic for calculation
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ results.js       # Result rendering
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ formatters.js    # Number/currency formatting
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dom.js           # DOM helpers
‚îÇ   ‚îî‚îÄ‚îÄ main.js              # Initialization & orchestration
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îú‚îÄ‚îÄ base.css             # CSS variables & reset
‚îÇ   ‚îú‚îÄ‚îÄ components.css       # Buttons, cards, forms
‚îÇ   ‚îî‚îÄ‚îÄ telegram.css         # Telegram-specific styles
‚îî‚îÄ‚îÄ assets/
    ‚îî‚îÄ‚îÄ icons/
```

**–¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏**:
```
1. base.css ‚Üí telegram.css ‚Üí components.css
2. utils/formatters.js ‚Üí utils/dom.js
3. modules/api.js (–Ω–µ–∑–∞–≤–∏—Å–∏–º)
4. modules/telegram.js (–Ω–µ–∑–∞–≤–∏—Å–∏–º)
5. modules/validator.js (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç formatters)
6. modules/calculator.js (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç api, validator)
7. modules/results.js (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç formatters, dom)
8. main.js (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π)
```

---

### 2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —è–≤–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏**
**–ü—Ä–æ–±–ª–µ–º–∞**: –§—É–Ω–∫—Ü–∏–∏ –Ω–∞–ø—Ä—è–º—É—é –æ–±—Ä–∞—â–∞—é—Ç—Å—è –∫ –≥–ª–æ–±–∞–ª—å–Ω—ã–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –∏ DOM

**–ü—Ä–∏–º–µ—Ä—ã –∏–∑ –∫–æ–¥–∞**:
```javascript
// –ù–µ—Ç —è–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –≤—Ö–æ–¥–æ–≤/–≤—ã—Ö–æ–¥–æ–≤
function calculateCost() {
    // –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ selectedCountry (–≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è)
    if (!selectedCountry) { ... }
    
    // –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å DOM
    const formData = new FormData(document.getElementById('calculatorForm'));
}

// –ù–µ—è–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
function displayResult(result) {
    // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ selectedCountry, selectedFreightType
    // –ü—Ä—è–º–∞—è –º–∞–Ω–∏–ø—É–ª—è—Ü–∏—è DOM –±–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
}
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ç–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

```javascript
// api.js - —è–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
export class CalculationAPI {
    /**
     * @param {CalculationRequest} request
     * @returns {Promise<CalculationResult>}
     */
    async calculate(request) { ... }
    
    /**
     * @returns {Promise<MetaData>}
     */
    async getMeta() { ... }
}

// validator.js - —á–∏—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å —è–≤–Ω—ã–º–∏ –≤—Ö–æ–¥–∞–º–∏/–≤—ã—Ö–æ–¥–∞–º–∏
export class FormValidator {
    /**
     * @param {FormData} formData
     * @param {ValidationRules} rules
     * @returns {ValidationResult} { isValid: boolean, errors: string[] }
     */
    validate(formData, rules) { ... }
}

// calculator.js - –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å —è–≤–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
export class CalculatorController {
    constructor(api, validator, resultRenderer) {
        this.api = api;
        this.validator = validator;
        this.resultRenderer = resultRenderer;
    }
    
    /**
     * @param {HTMLFormElement} form
     * @returns {Promise<void>}
     */
    async handleSubmit(form) { ... }
}
```

---

### 3. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏**
**–ü—Ä–æ–±–ª–µ–º–∞**: –í–∞–ª–∏–¥–∞—Ü–∏—è –≥–æ–¥–∞ —Ä–∞–∑–±—Ä–æ—Å–∞–Ω–∞ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –º–µ—Å—Ç–∞–º

**–ü—Ä–∏–º–µ—Ä—ã**:
```javascript
// –í validateForm()
if (year > currentYear) { ... }
if (year < 1990) { ... }

// –í HTML input
<input type="number" id="year" name="year" min="1990" max="2025" required>

// –í backend (models.py)
@field_validator("year")
def validate_year(cls, v: int) -> int:
    if v < 1990 or v > current_year:
        raise ValueError(...)
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**:
- –°–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–∏–ª –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –∏–∑ `/api/meta`)
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä —Å —è–≤–Ω—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏
```javascript
// validator.js
export const ValidationRules = {
    year: {
        min: 1990,
        max: () => new Date().getFullYear(),
        message: '–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 1990 –¥–æ —Ç–µ–∫—É—â–µ–≥–æ'
    },
    engine_cc: {
        min: 500,
        max: 10000,
        message: '–û–±—ä–µ–º –¥–≤–∏–≥–∞—Ç–µ–ª—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 500 –¥–æ 10000 —Å–º¬≥'
    },
    purchase_price: {
        min: 1,
        message: '–¶–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0'
    }
};

// –ó–∞–≥—Ä—É–∑–∫–∞ constraints –∏–∑ API
export async function loadValidationRules(api) {
    const meta = await api.getMeta();
    return {
        year: {
            min: meta.constraints.year_min,
            max: meta.constraints.year_max_current,
            ...
        },
        ...
    };
}
```

---

### 4. **–°–º–µ—à–∏–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ UI-–ª–æ–≥–∏–∫–∏**
**–ü—Ä–æ–±–ª–µ–º–∞**: –§—É–Ω–∫—Ü–∏–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–µ–ª–∞—é—Ç —Ä–∞—Å—á—ë—Ç—ã, –≤–∞–ª–∏–¥–∞—Ü–∏—é, API-–∑–∞–ø—Ä–æ—Å—ã –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ DOM

**–ü—Ä–∏–º–µ—Ä** (`calculateCost`):
```javascript
async function calculateCost() {
    // –í–∞–ª–∏–¥–∞—Ü–∏—è
    if (!selectedCountry) { showError(...); return; }
    if (!validateForm()) return;
    
    // –°–±–æ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
    const formData = new FormData(...);
    const requestData = { ... };
    
    // UI updates
    showLoading(true);
    hideError();
    hideResult();
    
    // API –∑–∞–ø—Ä–æ—Å
    const response = await fetch(...);
    const result = await response.json();
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    displayResult(result);
    
    // Telegram updates
    telegram.sendData(...);
}
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –†–∞–∑–¥–µ–ª–∏—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å (SRP)

```javascript
// calculator.js
export class CalculatorController {
    async handleSubmit(form) {
        // 1. –í–∞–ª–∏–¥–∞—Ü–∏—è
        const validation = this.validator.validate(form);
        if (!validation.isValid) {
            this.ui.showErrors(validation.errors);
            return;
        }
        
        // 2. UI - –ø–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É
        this.ui.showLoading();
        
        try {
            // 3. –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ - API –∑–∞–ø—Ä–æ—Å
            const request = this.buildRequest(form);
            const result = await this.api.calculate(request);
            
            // 4. UI - –ø–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            this.resultRenderer.render(result);
            
            // 5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - Telegram
            if (this.telegram.isActive()) {
                this.telegram.sendResult(result);
            }
        } catch (error) {
            this.ui.showError(error.message);
        } finally {
            this.ui.hideLoading();
        }
    }
}
```

---

## üü° –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø

### 5. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ State Management**
**–ü—Ä–æ–±–ª–µ–º–∞**: –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```javascript
let selectedCountry = null;
let selectedFreightType = 'open';
let lastResult = null;
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

```javascript
// state.js
export class AppState {
    constructor() {
        this.data = {
            country: null,
            freightType: 'open',
            formData: {},
            lastResult: null,
            meta: null
        };
        this.listeners = [];
    }
    
    set(key, value) {
        this.data[key] = value;
        this.notify(key, value);
    }
    
    get(key) {
        return this.data[key];
    }
    
    subscribe(listener) {
        this.listeners.push(listener);
    }
    
    notify(key, value) {
        this.listeners.forEach(fn => fn(key, value));
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const state = new AppState();
state.subscribe((key, value) => {
    if (key === 'country') {
        updateCurrencyOptions(value);
        updateFreightOptions(value);
    }
});
```

---

### 6. **–•–∞—Ä–¥–∫–æ–¥ —Å—Ç—Ä–æ–∫ –∏ –º–∞–≥–∏—á–µ—Å–∫–∏–µ —á–∏—Å–ª–∞**
**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ –∫–æ–¥—É

```javascript
showError('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É –ø–æ–∫—É–ø–∫–∏');
if (engineCc < 500 || engineCc > 10000) { ... }
telegram.showMainButton('–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å');
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –í—ã–Ω–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã

```javascript
// config/messages.js
export const Messages = {
    errors: {
        NO_COUNTRY: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω—É –ø–æ–∫—É–ø–∫–∏',
        INVALID_YEAR: '–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ',
        INVALID_ENGINE: '–û–±—ä–µ–º –¥–≤–∏–≥–∞—Ç–µ–ª—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 500 –¥–æ 10000 —Å–º¬≥',
        NETWORK_ERROR: '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.'
    },
    buttons: {
        CALCULATE: '–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å',
        BACK: '‚Ü©Ô∏è –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–∞—Å—á—ë—Ç–∞–º',
        SHARE: 'üì§ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è'
    },
    titles: {
        LOADING: '–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Ä–∞—Å—á—ë—Ç...',
        RESULT: '–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—á—ë—Ç–∞'
    }
};

// config/constants.js
export const Constraints = {
    ENGINE_CC: { min: 500, max: 10000 },
    YEAR: { min: 1990, max: () => new Date().getFullYear() },
    PRICE: { min: 1 }
};
```

---

### 7. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ edge cases**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫ –∏ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

**–ü—Ä–∏–º–µ—Ä—ã**:
- –ß—Ç–æ –µ—Å–ª–∏ `/api/meta` –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏?
- –ß—Ç–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ñ–ª–∞–π–Ω?
- –ß—Ç–æ –µ—Å–ª–∏ CBR –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω?
- –ß—Ç–æ –µ—Å–ª–∏ backend –≤–µ—Ä–Ω—É–ª –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç?

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**:

```javascript
// api.js
export class CalculationAPI {
    async calculate(request) {
        try {
            const response = await fetch('/api/calculate', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(request),
                signal: AbortSignal.timeout(10000) // Timeout 10s
            });
            
            if (!response.ok) {
                const error = await response.json();
                throw new APIError(error.detail || 'Unknown error', response.status);
            }
            
            return await response.json();
        } catch (error) {
            if (error.name === 'AbortError') {
                throw new APIError('–ü—Ä–µ–≤—ã—à–µ–Ω–æ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è', 408);
            }
            if (error.name === 'TypeError') {
                throw new APIError('–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É', 0);
            }
            throw error;
        }
    }
}

// main.js - graceful degradation
async function initialize() {
    try {
        const meta = await api.getMeta();
        populateCountries(meta.countries);
    } catch (error) {
        // Fallback –Ω–∞ —Ö–∞—Ä–¥–∫–æ–¥ –¥–∞–Ω–Ω—ã–µ
        console.warn('Failed to load meta, using fallback', error);
        populateCountries(FALLBACK_COUNTRIES);
    }
}
```

---

### 8. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è (–¥–ª—è –±—É–¥—É—â–µ–≥–æ TypeScript)**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—è–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –¥–∞–Ω–Ω—ã—Ö –∑–∞—Ç—Ä—É–¥–Ω—è—é—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –ø–æ—á–≤—É –¥–ª—è TypeScript

```javascript
// types.js (JSDoc –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ JS)
/**
 * @typedef {Object} CalculationRequest
 * @property {string} country - Country code ('japan', 'korea', etc.)
 * @property {number} year - Manufacturing year
 * @property {number} engine_cc - Engine volume in cc
 * @property {number} purchase_price - Purchase price
 * @property {string} currency - Currency code
 * @property {string} freight_type - Freight type
 * @property {string} vehicle_type - Vehicle type (default: 'M1')
 */

/**
 * @typedef {Object} CalculationResult
 * @property {CostBreakdown} breakdown
 * @property {CalculationMeta} meta
 * @property {WarningItem[]} warnings
 */

// –ò–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ TypeScript
// types.ts
export interface CalculationRequest {
    country: Country;
    year: number;
    engine_cc: number;
    purchase_price: number;
    currency: Currency;
    freight_type: FreightType;
    vehicle_type: VehicleType;
}
```

---

## üü¢ –£–õ–£–ß–®–ï–ù–ò–Ø UX/UI

### 9. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ debounce –Ω–∞ input events**
**–ü—Ä–æ–±–ª–µ–º–∞**: `updateMainButtonState` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥—ã–π keystroke

```javascript
document.getElementById('calculatorForm').addEventListener('input', updateMainButtonState);
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–æ–±–∞–≤–∏—Ç—å debounce

```javascript
// utils/dom.js
export function debounce(fn, delay = 300) {
    let timer;
    return function(...args) {
        clearTimeout(timer);
        timer = setTimeout(() => fn.apply(this, args), delay);
    };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const debouncedUpdate = debounce(updateMainButtonState, 300);
document.getElementById('calculatorForm').addEventListener('input', debouncedUpdate);
```

---

### 10. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã –∑–∞–≥—Ä—É–∑–∫–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**:
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ API-–∑–∞–ø—Ä–æ—Å–∞
- –°–∫–µ–ª–µ—Ç–æ–Ω—ã –≤–º–µ—Å—Ç–æ –ø—É—Å—Ç—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤
- Toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è success/error
- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –¥–ª—è –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

```javascript
// ui/feedback.js
export class FeedbackUI {
    showToast(message, type = 'info') {
        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    }
    
    showSkeleton(container) {
        // –ü–æ–∫–∞–∑–∞—Ç—å placeholder-–∫–æ–Ω—Ç–µ–Ω—Ç
    }
    
    showProgressBar(progress) {
        // 0-100% –ø—Ä–æ–≥—Ä–µ—Å—Å
    }
}
```

---

### 11. **Accessibility (A11y) issues**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ accessibility

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**:
- –î–æ–±–∞–≤–∏—Ç—å ARIA-–∞—Ç—Ä–∏–±—É—Ç—ã –¥–ª—è screen readers
- Keyboard navigation (Tab, Enter, Escape)
- Focus management –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏/–∑–∞–∫—Ä—ã—Ç–∏–∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å —Ü–≤–µ—Ç–æ–≤ (WCAG AA)

```html
<!-- –ü—Ä–∏–º–µ—Ä -->
<button 
    type="submit" 
    class="calculate-btn" 
    id="calculateBtn"
    aria-label="–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø–æ–ª–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è"
    aria-describedby="calcDescription">
    –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å
</button>

<div id="calcDescription" class="sr-only">
    –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø–æ–ª–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å —É—á—ë—Ç–æ–º –≤—Å–µ—Ö —Å–±–æ—Ä–æ–≤ –∏ –ø–æ—à–ª–∏–Ω
</div>
```

---

### 12. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ error tracking**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**:
```javascript
// analytics.js
export class Analytics {
    trackEvent(category, action, label) {
        // Google Analytics / Yandex Metrika
    }
    
    trackError(error, context) {
        // Sentry / Rollbar
    }
    
    trackTiming(category, variable, time) {
        // Performance monitoring
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
analytics.trackEvent('calculation', 'submit', 'japan');
analytics.trackTiming('api', 'calculate', Date.now() - startTime);
analytics.trackError(error, { country, year, engine_cc });
```

---

## üîµ –¢–ï–°–¢–ò–†–£–ï–ú–û–°–¢–¨

### 13. **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å unit-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**
**–ü—Ä–æ–±–ª–µ–º–∞**: –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≤—è–∑–∞–Ω—ã –Ω–∞ DOM –∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –Ω–∞ –º–æ–¥—É–ª–∏

```javascript
// validator.test.js
import { FormValidator, ValidationRules } from '../modules/validator.js';

describe('FormValidator', () => {
    const validator = new FormValidator(ValidationRules);
    
    test('should reject future year', () => {
        const formData = new FormData();
        formData.set('year', 2030);
        
        const result = validator.validate(formData);
        
        expect(result.isValid).toBe(false);
        expect(result.errors).toContain('–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ');
    });
    
    test('should accept valid data', () => {
        const formData = new FormData();
        formData.set('year', 2020);
        formData.set('engine_cc', 1500);
        formData.set('purchase_price', 10000);
        
        const result = validator.validate(formData);
        
        expect(result.isValid).toBe(true);
    });
});

// api.test.js
import { CalculationAPI } from '../modules/api.js';

describe('CalculationAPI', () => {
    test('should handle network errors gracefully', async () => {
        global.fetch = jest.fn(() => Promise.reject(new TypeError('Network error')));
        
        const api = new CalculationAPI();
        
        await expect(api.calculate({})).rejects.toThrow('–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É');
    });
});
```

---

### 14. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ E2E —Ç–µ—Å—Ç–æ–≤ –¥–ª—è WebApp**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: Playwright / Cypress

```javascript
// e2e/calculator.spec.js
import { test, expect } from '@playwright/test';

test('should calculate cost for Japan car', async ({ page }) => {
    await page.goto('/web/');
    
    // –í—ã–±—Ä–∞—Ç—å —Å—Ç—Ä–∞–Ω—É
    await page.selectOption('#countrySelect', 'japan');
    
    // –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É
    await page.fill('#year', '2020');
    await page.fill('#engineCc', '1500');
    await page.fill('#purchasePrice', '1000000');
    await page.selectOption('#currency', 'JPY');
    
    // –û—Ç–ø—Ä–∞–≤–∏—Ç—å
    await page.click('#calculateBtn');
    
    // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    await expect(page.locator('#totalCost')).toBeVisible();
    await expect(page.locator('#totalCost')).toContainText('RUB');
});

test('should show validation error for invalid year', async ({ page }) => {
    await page.goto('/web/');
    await page.fill('#year', '2030');
    await page.click('#calculateBtn');
    
    await expect(page.locator('.error-message')).toContainText('–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ');
});
```

---

## üìä PERFORMANCE

### 15. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ lazy loading –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
**–ü—Ä–æ–±–ª–µ–º–∞**: –í—Å–µ JS –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É (1548 —Å—Ç—Ä–æ–∫ inline)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**:
```javascript
// main.js
// –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –º–æ–¥—É–ª–∏
import { AppState } from './state.js';
import { TelegramWebApp } from './modules/telegram.js';
import { CalculationAPI } from './modules/api.js';

// Lazy load –¥–ª—è –Ω–µ–∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
async function loadResultsModule() {
    const { ResultsRenderer } = await import('./modules/results.js');
    return new ResultsRenderer();
}

async function loadShareModule() {
    const { ShareService } = await import('./modules/share.js');
    return new ShareService();
}
```

---

### 16. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è API-–æ—Ç–≤–µ—Ç–æ–≤**
**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ `/api/meta` –¥–∞–Ω–Ω—ã–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**:
```javascript
// api.js
export class CalculationAPI {
    constructor() {
        this.cache = new Map();
        this.cacheTTL = 5 * 60 * 1000; // 5 –º–∏–Ω—É—Ç
    }
    
    async getMeta() {
        const cached = this.cache.get('meta');
        if (cached && Date.now() - cached.timestamp < this.cacheTTL) {
            return cached.data;
        }
        
        const data = await this._fetchMeta();
        this.cache.set('meta', { data, timestamp: Date.now() });
        return data;
    }
}
```

---

## üéØ –ü–†–ò–û–†–ò–¢–ò–ó–ê–¶–ò–Ø

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–±–ª–æ–∫–∏—Ä—É—é—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ):
1. ‚úÖ **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–æ–¥—É–ª–∏** (1548 —Å—Ç—Ä–æ–∫ ‚Üí –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
2. ‚úÖ **–Ø–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã** (–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤—Ö–æ–¥–æ–≤/–≤—ã—Ö–æ–¥–æ–≤)
3. ‚úÖ **–ï–¥–∏–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** (–∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–∏–ª –∏–∑ API)
4. ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** (—Å–µ—Ç—å, —Ç–∞–π–º–∞—É—Ç—ã, –æ—Ñ–ª–∞–π–Ω)

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—É–ª—É—á—à–∞—é—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞):
5. ‚úÖ **State Management** (—Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
6. ‚úÖ **–í—ã–Ω–æ—Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç** (messages, config)
7. ‚úÖ **Unit-—Ç–µ—Å—Ç—ã** (validator, api, formatters)

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (polish):
8. ‚úÖ **TypeScript –º–∏–≥—Ä–∞—Ü–∏—è**
9. ‚úÖ **E2E —Ç–µ—Å—Ç—ã**
10. ‚úÖ **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**
11. ‚úÖ **Accessibility**
12. ‚úÖ **Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

---

## üìà –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

–ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –æ–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|-------|-----------|
| Lines per file | 1548 | <300 | **80%‚Üì** |
| Cyclomatic Complexity | High | Low | **70%‚Üì** |
| Test Coverage | 0% | 80%+ | **+80%** |
| Time to add new country | 4h | 30min | **87%‚Üì** |
| Bundle size (gzip) | ~18KB | ~12KB | **33%‚Üì** |
| First Load Time | ~500ms | ~300ms | **40%‚Üì** |

---

## üõ†Ô∏è –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò (–≤ —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ)

### –≠—Ç–∞–ø 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç (–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥—É–ª–∏)
```
1. utils/formatters.js    ‚Üê —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
2. utils/dom.js            ‚Üê DOM helpers
3. config/messages.js      ‚Üê –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
4. config/constants.js     ‚Üê validation rules
5. types.js                ‚Üê JSDoc/TypeScript types
```

### –≠—Ç–∞–ø 2: Core –º–æ–¥—É–ª–∏ (–∑–∞–≤–∏—Å—è—Ç –æ—Ç utils)
```
6. modules/api.js          ‚Üê –∑–∞–≤–∏—Å–∏—Ç –æ—Ç: -
7. modules/telegram.js     ‚Üê –∑–∞–≤–∏—Å–∏—Ç –æ—Ç: -
8. modules/validator.js    ‚Üê –∑–∞–≤–∏—Å–∏—Ç –æ—Ç: utils/formatters, config/constants
9. state.js                ‚Üê –∑–∞–≤–∏—Å–∏—Ç –æ—Ç: -
```

### –≠—Ç–∞–ø 3: UI –º–æ–¥—É–ª–∏ (–∑–∞–≤–∏—Å—è—Ç –æ—Ç core)
```
10. modules/ui.js          ‚Üê –∑–∞–≤–∏—Å–∏—Ç –æ—Ç: utils/dom, config/messages
11. modules/results.js     ‚Üê –∑–∞–≤–∏—Å–∏—Ç –æ—Ç: utils/formatters, utils/dom
12. modules/calculator.js  ‚Üê –∑–∞–≤–∏—Å–∏—Ç –æ—Ç: api, validator, ui, state
```

### –≠—Ç–∞–ø 4: –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
```
13. main.js                ‚Üê –∑–∞–≤–∏—Å–∏—Ç –æ—Ç: –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
14. index.html             ‚Üê –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –æ–±—ë—Ä—Ç–∫–∞
```

### –≠—Ç–∞–ø 5: –¢–µ—Å—Ç—ã
```
15. *.test.js              ‚Üê unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
16. e2e/*.spec.js          ‚Üê E2E —Å—Ü–µ–Ω–∞—Ä–∏–∏
```

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò

### üéØ –ì–ª–∞–≤–Ω–æ–µ
**–ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã RPG –∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É**:
- –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–æ–¥—É–ª–µ–π (–∫–∞–∫ –≤ rpg.yaml)
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª–∏ –≤ —Ç–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ
- –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (—Ç–∏–ø—ã –≤—Ö–æ–¥–æ–≤/–≤—ã—Ö–æ–¥–æ–≤)
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –†–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ —Å–ª–æ–∏: API ‚Üí Business Logic ‚Üí UI
- –£–±—Ä–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ‚Üí State Management
- –í—ã–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ config
- –Ø–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏

### üß™ –ö–∞—á–µ—Å—Ç–≤–æ
- –î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã (validator, api, formatters)

### üöÄ UX
- Debounce –Ω–∞ input events
- Skeleton screens –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏
- Toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Accessibility improvements

---

## üìö –°–°–´–õ–ö–ò –ù–ê –ü–†–ò–ù–¶–ò–ü–´ RPG

–ò–∑ `docs/rpg_intro.txt`:

‚úÖ **–î–ï–õ–ê–ô**:
1. ‚úÖ –Ø–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–º–æ–¥—É–ª–∏ —Å —á–µ—Ç–∫–∏–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏)
2. ‚úÖ –¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ (utils ‚Üí core ‚Üí ui ‚Üí main)
3. ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (—Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã)
4. ‚úÖ –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π)
5. ‚úÖ –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è (—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è)

‚ùå **–ù–ï –î–ï–õ–ê–ô**:
1. ‚ùå –ù–µ –ø–æ–ª–∞–≥–∞–π—Å—è –Ω–∞ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã (1548 —Å—Ç—Ä–æ–∫ –≤ –æ–¥–Ω–æ–º HTML)
2. ‚ùå –ù–µ –º–µ–Ω—è–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø–æ—Å–ª–µ —Ñ–∏–∫—Å–∞—Ü–∏–∏ (TypeScript –ø–æ–º–æ–∂–µ—Ç)
3. ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑—É–π –º–æ–¥—É–ª–∏ –≤ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ (—Å–ª–µ–¥—É–π —Ç–æ–ø–æ–ª–æ–≥–∏–∏)
4. ‚ùå –ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—è–≤–Ω—ã–µ imports)
5. ‚ùå –ù–µ –¥–µ–ø–ª–æ–π –±–µ–∑ —Ç–µ—Å—Ç–æ–≤ (–¥–æ–±–∞–≤–∏—Ç—å CI/CD —Å —Ç–µ—Å—Ç–∞–º–∏)

---

**–í—ã–≤–æ–¥**: –¢–µ–∫—É—â–∏–π `index.html` —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞ –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º RPG –ø–æ–∑–≤–æ–ª–∏—Ç:
- –î–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω—ã –∑–∞ 30 –º–∏–Ω—É—Ç –≤–º–µ—Å—Ç–æ 4 —á–∞—Å–æ–≤
- –ü–æ–∫—Ä—ã—Ç—å —Ç–µ—Å—Ç–∞–º–∏ 80%+ –∫–æ–¥–∞
- –°–Ω–∏–∑–∏—Ç—å —Ä–∏—Å–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–π –Ω–∞ 70%
- –£–ø—Ä–æ—Å—Ç–∏—Ç—å onboarding –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤